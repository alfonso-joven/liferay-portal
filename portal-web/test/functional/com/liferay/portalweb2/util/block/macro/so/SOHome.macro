<definition>
	<command name="addPage">
		<execute action="Dockbar#mouseOver" locator-key1="ADD" />
		<execute action="Dockbar#assertClick" locator-key1="ADD_PAGE" value1="Page" />

		<execute action="Home#type" locator-key1="NEW_PAGE_FIELD" value1="${pageName}" />
		<execute action="Home#click" locator-key1="NEW_PAGE_SAVE" />
		<execute action="Home#click" locator1="//nav/ul/li/a[contains(.,'${pageName}')]" />
	</command>

	<command name="addPortlet">
		<execute action="Dockbar#mouseOver" locator-key1="ADD" />
		<execute action="Dockbar#click" locator-key1="ADD_APPLICATION" />
		<execute action="Dockbar#type" locator-key1="ADD_APPLICATION_SEARCH_FIELD" value1="${portletName}" />
		<execute action="Dockbar#click" locator1="//div[@title='${portletName}']/p/a" value1="Add" />

		<execute action="Home#assertElementPresent" locator-key1="PORTLET_1" />
	</command>

	<command name="addWhatsHappeningEntry">
		<execute action="SOUserBar#click" locator-key1="DASHBOARD" />

		<if>
			<condition action="PGHome#isElementNotPresent" locator-key1="WHATS_HAPPENING_ENTRY_CONTENT" />
			<then>
				<execute action="PGHome#assertTextEquals" locator-key1="WHATS_HAPPENING_INFO_MESSAGE" value1="You do not have any microblog entries." />
			</then>
		</if>

		<execute action="PGHome#click" locator-key1="WHATS_HAPPENING_CONTENT_FIELD" />
		<execute action="PGHome#click" locator-key1="WHATS_HAPPENING_CONTENT_INPUT_FIELD" />
		<execute action="PGHome#type" locator-key1="WHATS_HAPPENING_CONTENT_INPUT_FIELD" value1="${whatsHappeningEntryContent}" />
		<execute action="PGHome#assertTextEquals" locator-key1="WHATS_HAPPENING_CONTENT_COUNTDOWN" value1="${whatsHappeningEntryCharacterCountdown}" />
		<execute action="PGHome#select" locator-key1="WHATS_HAPPENING_CONTENT_VIEW_FILTER" value1="${whatsHappeningEntryViewableBy}" />
		<execute action="PGHome#click" locator-key1="WHATS_HAPPENING_POST_BUTTON" />
		<execute action="PGHome#assertTextEquals" locator-key1="WHATS_HAPPENING_ENTRY_CONTENT" value1="${whatsHappeningEntryContent}" />
	</command>

	<command name="tearDownPG">
		<execute macro="SOUserBar#dashboardPG">
			<var name="userName" value="${userName}" />
		</execute>

		<execute action="SOUserBar#click" locator-key1="TOGGLE_DOCKBAR" />
		<if>
			<condition action="SOUserBar#isElementPresent" locator-key1="EDIT_CONTROLS_NOT_FLAGGED" />
			<then>
				<execute action="Dockbar#mouseOver" locator-key1="EDIT_CONTROLS" />
				<execute action="Dockbar#assertClick" locator-key1="EDIT_CONTROLS" value1="Edit Controls" />
			</then>
		</if>

		<while>
			<condition action="SONavigation#isElementPresent" locator-key1="NAVIGATION_PAGE" />
			<then>
				<execute action="SONavigation#mouseOver" locator-key1="NAVIGATION_PAGE" />
				<execute action="SONavigation#click" locator-key1="NAVIGATION_PAGE_DELETE" />
				<execute action="SONavigation#confirm" locator-key1="CONFIRM" value1="Are you sure you want to delete this page?" />
				<execute action="SONavigation#assertElementNotPresent" locator-key1="NAVIGATION_PAGE" />
			</then>
		</while>
	</command>

	<command name="viewTodaysEvent">
		<execute macro="SOUserBar#dashboardPG">
			<var name="userName" value="${userName}" />
		</execute>

		<execute action="PGHome#assertTextEquals" locator-key1="EVENTS_DISPLAY_TODAYS_EVENTS_EVENT_TITLE" value1="${eventTitle}" />
		<execute action="PGHome#assertTextEquals" locator-key1="EVENTS_DISPLAY_TODAYS_EVENTS_EVENT_CREATOR" value1="${userName}" />
		<execute action="PGHome#assertElementPresent" locator-key1="EVENTS_DISPLAY_TODAYS_EVENTS_EVENT_TIME" />
	</command>

</definition>